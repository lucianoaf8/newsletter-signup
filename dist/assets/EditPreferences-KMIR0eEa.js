import{_,o as d,c as p,g as a,v as c,a as n,t as r,h as I,b as h,F as g,r as f,f as S,w as E,d as b,i as v,e as U}from"./index-B1s9-mEv.js";const P={name:"CustomOptions",props:{email:{type:String,required:!0},city:{type:String,required:!0},country:{type:String,required:!0},interests:{type:Array,required:!0,validator:e=>e.length===3},language:{type:String,required:!0}},data(){return{localEmail:this.email,localCity:this.city,localCountry:this.country,localInterests:[...this.interests],localLanguage:this.language}},watch:{email(e){this.localEmail=e},city(e){this.localCity=e},country(e){this.localCountry=e},interests(e){this.localInterests=[...e]},language(e){this.localLanguage=e}},methods:{emitEmail(){this.$emit("update:email",this.localEmail)},emitCity(){this.$emit("update:city",this.localCity)},emitCountry(){this.$emit("update:country",this.localCountry)},emitInterests(){this.$emit("update:interests",this.localInterests)},emitLanguage(){this.$emit("update:language",this.localLanguage)}}},L={class:"custom-options"},V=["placeholder"],k={class:"preference-card"},w={class:"location-inputs"},q=["placeholder"],O=["placeholder"],F={class:"preference-card"},T={class:"interest-inputs"},D=["placeholder"],N=["placeholder"],x=["placeholder"],j={class:"preference-card location-card"},B={value:"en"},J={value:"both"};function M(e,t,u,m,s,o){return d(),p("div",L,[a(n("input",{type:"email",id:"subscribeEmail",name:"email",required:"",placeholder:e.$t("subscribePlaceholder"),"onUpdate:modelValue":t[0]||(t[0]=i=>s.localEmail=i),class:"neon-input",onInput:t[1]||(t[1]=(...i)=>o.emitEmail&&o.emitEmail(...i))},null,40,V),[[c,s.localEmail]]),n("div",k,[n("h3",null,r(e.$t("location")),1),n("div",w,[a(n("input",{type:"text",name:"city",required:"",placeholder:e.$t("cityPlaceholder"),"onUpdate:modelValue":t[2]||(t[2]=i=>s.localCity=i),class:"neon-input",onInput:t[3]||(t[3]=(...i)=>o.emitCity&&o.emitCity(...i))},null,40,q),[[c,s.localCity]]),a(n("input",{type:"text",name:"country",required:"",placeholder:e.$t("countryPlaceholder"),"onUpdate:modelValue":t[4]||(t[4]=i=>s.localCountry=i),class:"neon-input",onInput:t[5]||(t[5]=(...i)=>o.emitCountry&&o.emitCountry(...i))},null,40,O),[[c,s.localCountry]])])]),n("div",F,[n("h3",null,r(e.$t("interests")),1),n("div",T,[a(n("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=i=>s.localInterests[0]=i),placeholder:e.$t("interest1Placeholder"),class:"neon-input",onInput:t[7]||(t[7]=(...i)=>o.emitInterests&&o.emitInterests(...i))},null,40,D),[[c,s.localInterests[0]]]),a(n("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=i=>s.localInterests[1]=i),placeholder:e.$t("interest2Placeholder"),class:"neon-input",onInput:t[9]||(t[9]=(...i)=>o.emitInterests&&o.emitInterests(...i))},null,40,N),[[c,s.localInterests[1]]]),a(n("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=i=>s.localInterests[2]=i),placeholder:e.$t("interest3Placeholder"),class:"neon-input",onInput:t[11]||(t[11]=(...i)=>o.emitInterests&&o.emitInterests(...i))},null,40,x),[[c,s.localInterests[2]]])])]),n("div",j,[n("h3",null,r(e.$t("language")),1),a(n("select",{"onUpdate:modelValue":t[12]||(t[12]=i=>s.localLanguage=i),class:"neon-select language-select",onChange:t[13]||(t[13]=(...i)=>o.emitLanguage&&o.emitLanguage(...i))},[n("option",B,r(e.$t("languageEnglish")),1),n("option",J,r(e.$t("languageEnglishPortuguese")),1)],544),[[I,s.localLanguage]])])])}const A=_(P,[["render",M]]),R={name:"EditPreferences",components:{CustomOptions:A},data(){const e=["weather","exchangeRates","quoteOfTheDay","funFact","englishWithLuca","onThisDay","breathingBox","dailyChallenge"],t=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],u={};e.forEach(s=>{u[s]=!0});const m={};return t.forEach(s=>{m[s]=!0}),{email:"",city:"",country:"",sectionsList:e,daysList:t,sections:u,days:m,preferences:{interests:["","",""],language:"en"},isSubmitting:!1}},methods:{updateInterests(e){console.log("Updating interests:",e),this.preferences.interests=e},async handleSubmit(){this.isSubmitting=!0,console.log("Submitting form with:",{email:this.email,city:this.city,country:this.country,sections:this.sections,days:this.days,interests:this.preferences.interests,language:this.preferences.language});try{const e=new FormData;e.append("email",this.email),e.append("city",this.city),e.append("country",this.country),e.append("sections",JSON.stringify(this.sections)),e.append("days",JSON.stringify(this.days)),e.append("interests",this.preferences.interests.join(", ")),e.append("language",this.preferences.language),e.append("_subject","Edit Preferences Request"),e.append("_template","table"),e.append("_captcha","false");const t=await fetch("https://formsubmit.co/ajax/ae13ee8bbcd4e22acd6e07e9e275bd47",{method:"POST",body:e});if(t.ok)this.$router.push("/success-page");else{const u=await t.text();console.error("Form submission failed:",u),alert("Form submission failed. Please try again.")}}catch(e){console.error("Form submission error:",e),alert("An error occurred while submitting the form. Please try again.")}finally{this.isSubmitting=!1}}}},H={class:"edit-preferences"},W={class:"title"},z={class:"preference-card"},G={class:"preferences-grid"},K=["onUpdate:modelValue"],Q={class:"label-text"},X={class:"preference-card"},Y={class:"preferences-grid"},Z=["onUpdate:modelValue"],$={class:"label-text"},ee=["value"],te=["value"],se=["value"],ne=["value"],ie=["value"],le=["value"],oe=["value"],re=["disabled"];function ae(e,t,u,m,s,o){const i=b("CustomOptions"),C=b("router-link");return d(),p("div",H,[n("h2",W,r(e.$t("editPreferencesTitle")),1),n("form",{id:"editPreferencesForm",onSubmit:t[5]||(t[5]=S((...l)=>o.handleSubmit&&o.handleSubmit(...l),["prevent"])),class:"preferences-form"},[h(i,{email:s.email,city:s.city,country:s.country,interests:s.preferences.interests,language:s.preferences.language,"onUpdate:email":t[0]||(t[0]=l=>s.email=l),"onUpdate:city":t[1]||(t[1]=l=>s.city=l),"onUpdate:country":t[2]||(t[2]=l=>s.country=l),"onUpdate:interests":t[3]||(t[3]=l=>o.updateInterests(l)),"onUpdate:language":t[4]||(t[4]=l=>s.preferences.language=l)},null,8,["email","city","country","interests","language"]),n("div",z,[n("h3",null,r(e.$t("newsletterSections")),1),n("div",G,[(d(!0),p(g,null,f(s.sectionsList,l=>(d(),p("div",{key:l,class:"preference-option"},[n("label",null,[a(n("input",{type:"checkbox","onUpdate:modelValue":y=>s.sections[l]=y,class:"neon-checkbox"},null,8,K),[[v,s.sections[l]]]),n("span",Q,r(e.$t(l)),1)])]))),128))])]),n("div",X,[n("h3",null,r(e.$t("deliveryDays")),1),n("div",Y,[(d(!0),p(g,null,f(s.daysList,l=>(d(),p("div",{key:l,class:"preference-option"},[n("label",null,[a(n("input",{type:"checkbox","onUpdate:modelValue":y=>s.days[l]=y,class:"neon-checkbox"},null,8,Z),[[v,s.days[l]]]),n("span",$,r(e.$t(l)),1)])]))),128))])]),n("input",{type:"hidden",name:"sections",value:JSON.stringify(s.sections)},null,8,ee),n("input",{type:"hidden",name:"days",value:JSON.stringify(s.days)},null,8,te),n("input",{type:"hidden",name:"interests",value:s.preferences.interests.join(", ")},null,8,se),n("input",{type:"hidden",name:"language",value:s.preferences.language},null,8,ne),n("input",{type:"hidden",name:"email",value:s.email},null,8,ie),n("input",{type:"hidden",name:"city",value:s.city},null,8,le),n("input",{type:"hidden",name:"country",value:s.country},null,8,oe),n("button",{type:"submit",class:"submit-button neon-button",disabled:s.isSubmitting},r(s.isSubmitting?e.$t("submitting"):e.$t("savePreferences")),9,re)],32),h(C,{to:"/",class:"cta-button cta-home"},{default:E(()=>[U(r(e.$t("backToHome")),1)]),_:1})])}const ce=_(R,[["render",ae]]);export{ce as default};
